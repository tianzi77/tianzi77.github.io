<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
    <title>scroll nav</title>
    <link rel="stylesheet" href="http://www.zhangweiwei.cn/demo/reset.css">
    <style>
        body {
            height: 3000px;
            background: pink;
        }
        
        .nav {
            width: 100%;
            height: 40px;
            background-color: cornflowerblue;
            position: static;
            top: 0;
            left: 0;
            right: 0;
        }
        
        .nav.is-fixed {
            position: fixed;
            -webkit-transform: translateY(-40px);
            transform: translateY(-40px);
            transition: all .2s ease-out;
        }
        
        .nav.is-show {
            -webkit-transform: translateY(0);
            transform: translateY(0);
        }
    </style>
</head>

<body>
    <div class="nav">

    </div>
    <div class="content">hahah</div>
    <script src="http://www.zhangweiwei.cn/demo/jquery.js"></script>
    <script>
        $(function () {

            var MinWidth = 320;
            //primary navigation slide-in effect

            if ($(window).width() > MinWidth) {
                var headerHeight = $('.nav').height();
                $(window).on('scroll', {
                        previousTop: 0
                    },
                    function () {
                        var that = this;
                        var currentTop = $(window).scrollTop();
                        //check if user is scrolling up
                        if (currentTop < this.previousTop) {
                            //if scrolling up...
                            if (currentTop > 0 && $('.nav').hasClass('is-fixed')) {
                                $('.nav').addClass('is-show');
                            } else {
                                // top 
                                $('.nav').removeClass('is-show is-fixed');
                            }
                        } else {
                            //if scrolling down...
                            $('.nav').addClass('is-fixed');
                            if (currentTop > headerHeight && $('.nav').hasClass('is-show')) {
                                $('.nav').removeClass('is-show');
                            }
                        }

                        that.previousTop = currentTop;
                    });

            }
        })
    </script>
</body>

</html>