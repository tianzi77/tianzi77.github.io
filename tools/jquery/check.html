<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>show</title>
    <link rel="stylesheet" href="http://www.zhangweiwei.cn/demo/reset.css">
    <script src="http://www.zhangweiwei.cn/demo/jquery.js"></script>
</head>

<body>
    <div class="wrap">
        <div class="cnt">
            <div class="main">
                <!-- 查询有结果 -->
                <!-- 服务商筛选模块 =S -->
                <div class="servicers-list">
                    <div class="title">全部取车门店</div>
                    <span class="btn-close">×</span>
                    <ul class="list">
                        <li class="" data-servicer-id="001">
                            <div class="site">浦东机场T1店</div>
                            <span class="distance">0.23km</span>
                            <div class="brand">一嗨租车</div>
                            <i class="i-check"></i>
                        </li>
                        <li data-servicer-id="002">
                            <div class="site">浦东机场T2服务点</div>
                            <span class="distance">0.45km</span>
                            <div class="brand">一嗨租车</div>
                            <i class="i-check"></i>
                        </li>
                        <li data-servicer-id="003">
                            <div class="site">浦东华美达酒店送车点</div>
                            <span class="distance">0.67km</span>
                            <div class="brand">一嗨租车</div>
                            <i class="i-check"></i>
                        </li>
                        <li data-servicer-id="004">
                            <div class="site">虹桥机场T1店</div>
                            <span class="distance">0.88km</span>
                            <div class="brand">一嗨租车</div>
                            <i class="i-check"></i>
                        </li>
                        <li data-servicer-id="005">
                            <div class="site">虹桥机场T2店</div>
                            <span class="distance">1.99km</span>
                            <div class="brand">一嗨租车</div>
                            <i class="i-check"></i>
                        </li>
                        <li data-servicer-id="006">
                            <div class="site">虹桥机场T1服务点</div>
                            <span class="distance">7.01km</span>
                            <div class="brand">一嗨租车</div>
                            <i class="i-check"></i>
                        </li>
                        <li data-servicer-id="007">
                            <div class="site">浦东机场T1店</div>
                            <span class="distance">0.23km</span>
                            <div class="brand">至尊租车</div>
                            <i class="i-check"></i>
                        </li>
                    </ul>
                </div>
                <!-- 服务商筛选模块 =E -->

            </div>
        </div>

        <!-- 侧边筛选栏 =S -->
        <div class="side">
            <div class="s-filter">
                <div class="s-filter-hd">
                    <h4>筛选</h4>
                    <div class="list">
                        <a href="" class="btn-clear">清除筛选</a>
                    </div>
                </div>
                <div class="s-filter-bd">
                    <div class="s-filter-item s-filter-servicer">
                        <h5>取车门店</h5>
                        <div class="list-wrap">
                            <a href="" class="btn-expand">展开全部取车门店（27）</a>
                            <div class="list list-1">
                                <div class="name">一嗨租车</div>
                                <dl>
                                    <dd><span>0.23km</span>
                                        <label data-servicer-id="001">
                                            <input type="checkbox" name="" id="">浦东机场T1店</label>
                                    </dd>
                                    <dd><span>0.45km</span>
                                        <label data-servicer-id="002">
                                            <input type="checkbox" name="" id="">浦东机场T2服务点</label>
                                    </dd>
                                    <dd><span>0.67km</span>
                                        <label data-servicer-id="003">
                                            <input type="checkbox" name="" id="">浦东华美达酒店送车点</label>
                                    </dd>
                                    <dd><span>0.88km</span>
                                        <label data-servicer-id="004">
                                            <input type="checkbox" name="" id="">虹桥机场T1店</label>
                                    </dd>
                                    <dd><span>1.99km</span>
                                        <label data-servicer-id="005">
                                            <input type="checkbox" name="" id="">虹桥机场T2店</label>
                                    </dd>
                                    <dd><span>7.01km</span>
                                        <label data-servicer-id="006">
                                            <input type="checkbox" name="" id="">虹桥机场T1服务点</label>
                                    </dd>
                                </dl>
                            </div>
                            <div class="list list-1">
                                <div class="name">至尊租车</div>
                                <dl>
                                    <dd><span>0.23km</span>
                                        <label data-servicer-id="007">
                                            <input type="checkbox" name="" id="">浦东机场T1店</label>
                                    </dd>
                                </dl>
                            </div>
                        </div>
                    </div>
                </div>
                <a href="" class="btn-fold">收起<i class="i-tri i-tri-up"></i></a>
            </div>
        </div>
        <!-- 侧边筛选栏 =E -->
    </div>
    <script>
        + function ($) {

            "use strict"

            $(function () {

                // 侧边筛选栏
                + function () {
                    var $checkList = $(".main > .servicers-list"),
                        $leftBox = $('.s-filter-servicer'),
                        $pushHtml = $('.s-filter-hd .list');
                    //自定义选中事件
                    function checked(ev, id) {

                        var $checkListFilter = $checkList.find('[data-servicer-id="' + id + '"]'),
                            $leftBoxFilter = $leftBox.find('[data-servicer-id="' + id + '"]'),
                            tagName = $checkListFilter.children('.brand').text() + $checkListFilter.children('.site').text();

                        $checkListFilter.addClass('checked');
                        $leftBoxFilter.children('input').prop('checked', true);
                        $pushHtml.append('<span class="itemChecked" data-servicer-id="' + id + '">' + tagName + '<a href="" class="btn-delete">×</a></span>');
                    }
                    //自定义取消选中
                    function unChecked(ev, id) {

                        var $checkListFilter = $checkList.find('[data-servicer-id="' + id + '"]'),
                            $leftBoxFilter = $leftBox.find('[data-servicer-id="' + id + '"]');

                        $checkListFilter.removeClass('checked');
                        $leftBoxFilter.children('input').prop('checked', false);
                        $pushHtml.find('[data-servicer-id="' + id + '"]').remove();
                    }
                    //自定义清除所有选中
                    function clearAll() {

                        $checkList.find('li').removeClass('checked');
                        $leftBox.find('input').prop('checked', false);
                    }
                    //全局注册事件
                    $(document).on('checked', checked);
                    $(document).on('unChecked', unChecked);
                    $(document).on('clearAll', clearAll);
                    /*
                        业务逻辑
                    */
                    //联动选中右边
                    $checkList.on('click', function (ev) {

                            var $target = $(ev.target),
                                $list = $target.parents('.list'),
                                $li = $target.parents('li');

                            if ($target.hasClass('btn-close')) {

                                $(this).hide('slow');

                            } else if ($li[0] && $list[0]) {
                                var id = $li.attr('data-servicer-id');

                                if ($li.hasClass('checked')) {
                                    $(document).trigger('unChecked', [id]);
                                } else {
                                    $(document).trigger('checked', [id]);
                                }
                            }
                        })
                        //联动选中左边
                    $leftBox.on('click', 'label', function (ev) {

                            var $arrive = $(ev.target),
                                id = $(this).data('servicerId');

                            if (!$arrive.is('input')) {
                                return;
                            }
                            if ($arrive.prop('checked')) {
                                $(document).trigger('checked', [id])
                            } else {
                                $(document).trigger('unChecked', [id])
                            }
                        })
                        //清除全部联动
                    $pushHtml.on('click', function (ev) {
                        ev.preventDefault();

                        var $target = $(ev.target);

                        if ($target.hasClass('btn-clear')) {

                            $(this).children('.itemChecked').remove();
                            $(document).trigger('clearAll');

                        } else if ($target.hasClass('btn-delete')) {

                            var $checkedItem = $target.parent(),
                                servicerID = $checkedItem.data('servicerId');

                            servicerID && $(document).trigger('unChecked', [servicerID]);

                            $checkedItem.remove();
                        }
                    })
                }()

            })

        }(jQuery)
    </script>
</body>
    <style>
        @charset "utf-8";
/*
 * @desc: 用车租车搜索列表
 * @build: 2017-4-21
 * @auchor: zww
 * @last Modified: zww
 */

/* --------------------------------------------------------------------------
   重置样式
   -------------------------------------------------------------------------- */
html,body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,textarea,p,blockquote,th,td,em,button{ margin: 0; padding: 0; }
body { background: #fff; color: #333; font: normal 12px/1.5 "Lucida Grande", Tahoma, Arial, Helvetica, "Hiragino Sans GB", "Microsoft Yahei", Simsun, STXihei, Sans-serif; -webkit-font-smoothing: antialiased; }
img,fieldset { border: 0; margin: 0; padding: 0; }
input, textarea, select { font-size: 12px; font-family: "Lucida Grande", Tahoma, Arial, Helvetica, "Hiragino Sans GB", "Microsoft Yahei", Simsun, STXihei, Sans-serif; }
table { border-collapse: collapse; border-spacing: 0; }
a { color:#0066cc; text-decoration: none; outline: none; }
a:hover { text-decoration: underline; }
h1,h2,h3,h4,h5 { font-weight: normal; }
li { list-style: none; }
dfn { font-style: normal; font-family: arial; }
i,em { font-style: normal; }

/* --------------------------------------------------------------------------
   主体布局结构样式
   -------------------------------------------------------------------------- */
html, body {min-width:980px;}
body{ background-color: #F0F0F0 !important;-webkit-font-smoothing: antialiased; }
.wrap {width: 1180px;margin: 0px auto;font-size: 12px;}
.wrap:after {content: '';height: 0;clear: both;visibility: hidden;font-size: 0;display: block;}
.wrap .cnt {width: 100%;float: left;margin-bottom: 40px;}
.wrap .cnt .main {margin-left: 310px;}
.wrap .side {width: 300px;margin-left: -100%;background-color: #fff;float: left;margin-bottom: 40px;}

/* --------------------------------------------------------------------------
   模块、组件样式
   -------------------------------------------------------------------------- */
/* 三角 */
.i-tri {display: inline-block;*display: inline;*zoom: 1;margin-left: 4px;vertical-align: baseline;height: 0;width: 0;border: 5px solid transparent;}
.i-tri-up {border-bottom-color: #2577e3;vertical-align:text-top;}
.i-tri-down {border-top-color: #2577e3;vertical-align:text-bottom;}

/* 模块加载 */
.loadingBox {text-align: center;}
.loadingBox p {color: #999;}
.loading-animate {display: inline-block;vertical-align: middle;width: 100px;height: 100px;margin-top: 50px;background: url(http://pic.c-ctrip.com/flight_intl/loading/62-62-loading.gif) 50% 50% no-repeat;}
.loading-inline {display: inline-block;vertical-align: middle;margin: 0 5px;}

/*--面包屑导航---*/
.breadCrumbs{width: 1180px;margin: 0px auto;height: 36px;line-height: 36px;color: #666;}
.breadCrumbs a{color: #0066cc;cursor: pointer;}

/* 搜索无结果模块 */
.noResult {text-align: center;padding: 80px 0;background: #fff;}
.noResult i {float: left;width: 52px;height: 52px;margin: 10px 10px 0 248px;background: url(http://pic.ctrip.com/car20140207/yikoujia/icon.png) 0 -243px no-repeat;}
.noResult .msg {font: 500 18px/36px "Microsoft YaHei";text-align: left;}

/* 侧边栏筛选 */
.s-filter {padding: 10px 10px 0;text-align: center;}
.s-filter-hd {border-bottom: 1px dashed #bfbbb2;padding-bottom: 20px;position: relative;text-align: left;*zoom: 1;}
.s-filter-hd .btn-clear {position: absolute;right: 0; top: 0; text-decoration: none;color: #06c;}
.s-filter-hd .btn-clear:hover {text-decoration: underline;}
.s-filter-hd h4 {font-size: 18px;color: #333;line-height: 18px;margin-bottom: 5px;}
.s-filter-hd .itemChecked {float: left;margin-right: 9px;color: #fff;background-color: #2577e3;height: 20px;padding: 0 20px 0 5px;line-height: 20px;position: relative;*zoom: 1;margin-top: 10px;white-space: nowrap;}
.s-filter-hd .itemChecked a {color: #fff;font-size: 18px;margin-left: 8px;line-height: 20px;position: absolute;right: 5px;top: 0;display: block;height: 20px;}
.s-filter-hd:after {content: '';height: 0;clear: both;visibility: hidden;font-size: 0;display: block;}
.s-filter-bd {text-align: left;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;-o-user-select: none;user-select: none;}
.s-filter-item {border-bottom: 1px dashed #bfbbb2;margin-top: 10px;padding-bottom: 7px;position: relative;*zoom: 1;}
.s-filter-item h5 {color: #999;line-height: 22px;}
.s-filter-item .name {line-height: 22px;margin-top: 3px;}
.s-filter-item dd {line-height: 28px;}
.s-filter-item dd input {vertical-align: middle;margin-right: 3px;}
.s-filter-item .list-1 span {float: right;}
.s-filter-item .list-2 {overflow: hidden;zoom: 1;}
.s-filter-item .list-2 dd {float: left;width: 45%;padding-right: 5%;}
.s-filter .btn-fold {line-height: 44px;color: #06c;display: inline-block;height: 44px;}
.s-filter .btn-fold:hover {text-decoration: underline;}
.s-filter-item .list-wrap .btn-expand {position: absolute;right: 0;top: 0;color: #06c;}
.s-filter-item .list-wrap .btn-expand:hover {text-decoration: underline;}
.s-filter-loading {background-color: #fff;height: 390px;text-align: center;}
.s-filter-loading h4 {font-size: 18px;color: #333;line-height: 18px;margin-bottom:5px;text-align: left;}

/* 筛选模块 */
.sortBox {background-color: #fff;padding: 10px 20px;overflow: hidden;*zoom: 1;margin-bottom: 2px;}
.sortBox .item {border:1px solid #2577e3;color: #2577e3;float: left;margin-right: 10px;width: 108px;line-height: 26px;text-align: center;cursor: pointer;}
.sortBox .active {background-color: #2577e3;color: #fff;}

/* 车型模块顶部 */
.ctBox-list { padding: 0 20px;background-color: #fff;}
.ctBox {background: #fff;border-bottom: 2px solid #EAEAEA;}
.ctBox-list .last-ctBox {border-bottom: 0 none;}
.ctBox-hd {border-bottom: 1px dashed #ddd;padding-left: 350px;*zoom: 1;}
.ctBox-hd:after {content: '';height: 0;clear: both;visibility: hidden;font-size: 0;display: block;}
.ctBox-hd .pic {float: left;margin-left: -350px;width: 225px;}
.ctBox-hd .cName {padding-top: 50px;font-size: 16px;color: #000;line-height: 20px;}
.ctBox-hd .cName img {display: inline-block;margin-right: 5px;vertical-align: text-bottom;height: 18px;}
.ctBox-hd .desc {font-size: 14px;}
.ctBox-hd .i-count {height: 16px;width: 20px;margin: 0px 3px 0 10px;display: inline-block;background: url(http://pic.c-ctrip.com/corp_niv/car/isd_icons.png) 2px -22px no-repeat;vertical-align: text-top;}
.ctBox-hd .stars span {color: #f60;font-size: 14px;}
.ctBox-hd .i-star {height: 8px;width: 60px;display: inline-block;background: url(http://pic.c-ctrip.com/corp_niv/car/isd_icons.png) no-repeat;vertical-align: middle;margin-left: 8px;}
.ctBox-hd .i-star-4 {background-position:0 0;}
.ctBox-hd .i-star-4-half {background-position:-12px -8px;}
.ctBox-hd .i-star-5 {background-position:0 -8px;}
.ctBox-bd .expand {background-color: #fff;height: 47px;text-align: right;padding-right: 28px;}
.ctBox-bd .expand a {color: #08c;margin-top: 12px;display: inline-block;}
.ctBox-bd .expand a:hover {text-decoration: underline;}
.ctBox-loading {background-color: #fff;height: 400px;}
.ctBox-loading .loading-animate {margin-top: 120px;}

/* 租车服务提供商模块 */
.servicer {padding: 22px 8px;border-bottom: 1px dashed #ccc;*zoom: 1;}
.servicer .col {float: left;}
.servicer .col-1 {padding-left: 130px;width: 230px;padding-right: 25px;color: #000; }
.servicer .col-1 img {width: 105px;margin-left: -130px;float: left;}
.servicer .col-1 .viewMap {color: #08c;margin-left: 5px;}
.servicer .grade {color: #666;font-family: arial;font-size: 12px;}
.servicer .grade span {color: #06c;font-size: 18px;}
.servicer .grade:hover {text-decoration: underline;}
.servicer .rc {border-left: 1px solid #ccc;padding-left: 5px;margin-left: 5px;}
.servicer .rc a {color: #000;border-bottom: 1px dashed #000;cursor: default;display: inline-block;padding: 0 2px}
.servicer .rc a:hover {text-decoration: none;}
.servicer:after {content: '';height: 0;clear: both;visibility: hidden;font-size: 0;display: block;}
.servicer .promotion {clear:left;background-color: #fff;border: #f60 1px solid;float: left;zoom: 1;padding: 0 8px 0 0;line-height: 20px;height: 20px;color: #f60;margin-bottom: 10px;}
.servicer .promotion em {display: inline-block;width: 20px;height: 20px;line-height: 18px;text-align: center;color: #fff;background-color: #f60;float: left;margin-right: 3px;}
.servicer .prom-2 {border-color: #f00;color: #f00;}
.servicer .prom-2 em {background-color: #f00;}
.servicer .col-3 {float: right;}
.servicer .col-3 .desc {color: #999;margin-bottom: 5px;text-align: right;font-size: 14px;}
.servicer .col-3 .origPrice {color: #999;text-decoration: line-through;text-align: right;font-size: 15px;}
.servicer .price {color: #ff6600;font-size: 30px;font-family: arial,"Microsoft YaHei";line-height: 30px;text-align: right;} 
.servicer .price sup { margin-right: 3px;font-size: 16px;vertical-align: 6px;}
.servicer .price sub {font-size: 14px;vertical-align: 3px;}
.servicer .btn-buy {float: right;display: block;height: 30px;font-weight: 700;font-size: 16px;color: #fff;border: 1px solid #e77c00;border-radius: 3px;box-shadow: 0 1px 0 rgba(0,0,0,0.4);background-color: #ffb000;text-align: center;line-height: 30px;padding: 0 10px;margin: 16px 20px 0 40px;cursor: pointer;}
.servicer .btn-buy:hover {color: #fff;border-color: #F88500;background-color: #F79700;}

/* 搜索模块 */
.search-box {padding: 15px;background-color: #fff;margin-bottom: 10px;overflow: hidden;*zoom: 1;}
.search-box:after { clear: both; display: table; content: :; height: 0; }
.search-box .btn-search {overflow: visible;}
.search-box .msg {clear: both;padding-left: 25px;margin-top: 8px;background: url(http://pic.c-ctrip.com/corp_niv/car/icons_set.png) no-repeat;}
.search-box .msg-tips {background-position: -6px -154px;}
.search-box .msg-error {background-position: -6px -174px;color: #b00;}
.search-box .item {float: left;margin-right: 20px;}
.search-box input {height:18px;line-height: 18px;padding: 5px;border:1px solid #ccc;}
.search-box .inp-select {border:1px solid #ccc;height: 28px;line-height: 28px;padding: 0 25px 0 5px;background: url(http://pic.c-ctrip.com/car/ui/picker_bg-2.png) right 0px no-repeat;cursor: pointer;color: #000;}
.search-box .inp-select:hover {background-position: right -330px;}
.search-box label {float: left;line-height: 28px;margin-right: 5px;}
.search-box .inp-w1 {width: 60px;}
.search-box .inp-w2 {width: 135px;}
.search-box .inp-date {width: 105px;}
.search-box .inp-hour {width: 36px;}
.search-box .inputSet {float: left;padding-right: 1px;overflow: hidden;*zoom: 1;}
.search-box .inputSet .inputSet-item {float: left;margin-right: -1px;}

/* 搜索结果提示信息 */
.s-result-desc {margin-bottom: 10px;font-size: 18px;}
.s-result-desc .count {color: #ff6604;}

/* 顶部服务商筛选模块 */
.servicers-list {background-color: #fff;padding: 5px 25px;margin-bottom: 10px;position: relative;*zoom: 1;overflow: hidden;}
.servicers-list .title {line-height: 20px;margin-bottom: 5px;}
.servicers-list .list {margin-left: -15px;*padding-bottom: 10px;*zoom: 1;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;-o-user-select: none;user-select: none;}
.servicers-list .list:after {content: '';height: 0;clear: both;visibility: hidden;font-size: 0;display: block;}
.servicers-list li {position: relative;*zoom: 1;float: left;padding: 6px 8px;width: 134px;height: 38px;background-color: #e4f0ff;border:1px solid #c4deff;margin-bottom: 10px;margin-left: 15px;cursor: pointer;}
.servicers-list .site {white-space: nowrap;overflow: hidden;text-overflow: ellipsis;}
.servicers-list .distance {float: right;}
.servicers-list .checked {background-color: #fffced;border-color: #ffdba9;}
.servicers-list .i-check {display: none;width: 18px;height: 18px;position: absolute;right: -9px;bottom: -9px;background: url(http://pic.c-ctrip.com/corp_niv/car/isd_icons.png) -24px -22px no-repeat;}
.servicers-list .checked .i-check {display: block;}
.servicers-list .btn-close {position: absolute;width: 18px;height: 18px;text-align: center;line-height: 17px;right: 7px;top: 7px;background-color: #666;color: #fff;border-radius: 50%;font-size: 14px;font-family: tahoma;cursor: pointer;}
    </style>
</html>